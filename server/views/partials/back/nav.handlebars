<nav class="flex flex-col shadow-lg px-4 gap-4 py-2 sticky top-0 bg-white w-full dark:bg-neutral-800 z-10">
	<div class="flex flex-row justify-between items-center flex-wrap gap-4">
		<a href="/back"><img width="100" height="50" src="/front/logo.png" alt="Animal house homepage"></a>
		<div class="flex flex-row items-stretch order-last md:order-none w-full md:w-auto justify-center">
		</div>
		<div class="flex flex-row gap-4">
			<a href="/back/signin" id="signin"><img width="20" class="mr-1 dark:invert inline" src="/icons/person.svg" alt=""><span class="hidden md:inline">Accedi</span></a>
			<button class="hidden" id="logout" onclick="delete localStorage.userId; delete localStorage.token; delete localStorage.isAdmin; window.location.reload();"><img width="20" class="dark:invert inline" src="/icons/logout.svg" alt="Esci dall'account"></button>
			<button class="md:hidden" onclick="document.getElementById('menu').classList.toggle('hidden');document.getElementById('x').classList.toggle('hidden');document.getElementById('categories').classList.toggle('hidden')">
				<img id="menu" width="20" class="dark:invert" src="/icons/menu.svg" alt="Apri navigazione">
				<img id="x" width="20" class="hidden dark:invert" src="/icons/x.svg" alt="Chiudi navigazione">
			</button>

		</div>
	</div>
	<div id="categories" class="flex hidden md:flex flex-col md:flex-row items-center md:justify-around gap-4">
		<a href="/back/boards" class="flex flex-row gap-2" href=""><img width="20" class="dark:invert inline" src="/icons/comments.svg" alt=""><span>bacheche</span></a>
		<a href="/back/e-commerce" class="flex flex-row gap-2" href=""><img width="20" class="dark:invert inline" src="/icons/grafic.svg" alt=""><span>e-commerce</span></a>
		<a href="/back/services" class="flex flex-row gap-2" href=""><img width="20" class="dark:invert inline" src="/icons/house-medical.svg" alt=""><span>servizi</span></a>
		<a href="/back/accounts" class="flex flex-row gap-2" href=""><img width="20" class="dark:invert inline" src="/icons/person.svg" alt=""><span>accounts</span></a>
   	<a href="/back/rank" class="flex flex-row gap-2" href=""><img width="20" class="dark:invert inline" src="/icons/trophy.svg" alt=""><span>Classifica</span></a>
	
	</div>
</nav>
<script>
	if(localStorage.token){
		document.getElementById("logout").classList.remove("hidden");
		document.getElementById("signin").setAttribute("href","/back/profile");
					fetch('/api/users/profile/', {
				method: 'GET',
				headers: {
					'Accept': 'application/json',
					'Content-Type': 'application/json',
					'Authorization': `Bearer ${localStorage.token}`
				}
			})
			.then(response => response.json())
			.then(data => document.getElementById("signin").textContent=data.name);

	}

</script>
