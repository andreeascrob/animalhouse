<div id="account" class="flex flex-col gap-4 p-4 max-w-screen-lg mx-auto">
</div><script>
  	fetch('/api/users/info/'+ window.location.pathname.match(/[^\/]+(?=\/?$)/)[0])
  .then((response) => response.json())
		.then((data) => {
let user = document.createElement("form");
user.className = 'flex flex-col md:flex-row gap-4 p-4 max-w-screen-lg mx-auto'
user.innerHTML =`<div class="basis-1/4">
	 <img class="dark:invert" src="/icons/person.svg" width="90" alt="">
	</div>
	<div class="basis-3/4">
		<div class="flex flex-col basis-3/4 gap-2">
			<h1 class="text-3xl font-bold">${ data.name}${data.sorname}</h1>

			<div class="flex flex-row gap-2">
				<button type="submit" class="flex flex-row gap-2 rounded p-4 bg-emerald-500 dark:bg-emerald-800 justify-center items-center w-52 hover:font-bold">
					<span> Aggiorna profilo <span>
				</button>
				<a href="/back/changepassword"
  class="flex flex-row w-52 mx-auto gap-2 rounded p-2 bg-emerald-500 dark:bg-emerald-800 justify-center items-center hover:font-bold">
  <img class="dark:invert" width="20" src="/icons/key.svg">
  <span>Cambia password</span>
</a>
        <button type="button" class="flex flex-row gap-2 rounded p-4 bg-red-500 dark:bg-red-800 justify-center items-center w-52 hover:font-bold" onclick="deleteProduct('${data.slug}')">
					<span> Elimina profilo <span>
				</button>
			</div>
			<p class="font-bold${data.available[0] == 0 ? '' : ' hidden'}">Prodotto non disponibile</p>
			${data.description ? ('<label for="description" class="text-justify"> Descrizione </label><textarea id=description class="dark:bg-neutral-800 rounded" rows="5">' + data.description + '</textarea>') : '<div class="animate-pulse w-full h-12 bg-neutral-300 dark:bg-neutral-800 rounded"></div>'}
		</div>
	</div>
    `
      document.getElementById('account').appendChild(user)

    });
  </script>
